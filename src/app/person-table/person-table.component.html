<div *ngIf="persons.records.length < 0">
    <h2 class=" text-center">No records to display ðŸ¤¥</h2>
</div>
<table *ngIf="persons.records.length > 0" class="table align-middle bg-white">
    <thead class="bg-light">
        <tr>
            <th>#</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Address 1</th>
            <th>Address 2</th>
            <th>City</th>
            <th>State</th>
            <th>Pincode</th>
            <th>Phone Number</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody *ngFor="let person of persons.records">
        <tr class="person-detail">
            <td>{{ person.PersonID }}</td>
            <td>
                <div class="d-flex align-items-center">
                    <div class="ms-3">
                        <p class=" mb-1">{{ person.FirstName }}</p>
                    </div>
                </div>
            </td>
            <td>
                <div class="d-flex align-items-center">
                    <div class="ms-3">
                        <p class=" mb-1">{{ person.LastName }}</p>
                    </div>
                </div>
            </td>
            <td>
                <p class="fw-normal mb-1">{{ person.AddressLine1 }}</p>
            </td>
            <td>
                <p class="fw-normal mb-1">{{ person.AddressLine2 }}</p>
            </td>
            <td>
                <p class="fw-normal mb-1">{{ person.City }}</p>
            </td>
            <td>
                <p class="fw-normal mb-1">{{ person.State }}</p>
            </td>
            <td>
                <p class="fw-normal mb-1">{{ person.Pincode }}</p>
            </td>
            <td>{{ person.PhoneNumber }}</td>
            <td>
                <button type="button" class="btn btn-link btn-sm btn-rounded">
                    Edit
                </button>
                <button type="button" (click)="openPopup()"
                    class="btn btn-link btn-sm btn-rounded">
                    Delete
                </button>
                
            </td>
        </tr>
        <div class="modal bg-light" style="--bs-bg-opacity: .5;" tabindex="-1" role="dialog" [ngStyle]="{'display':displayStyle}">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Confirmation</h4>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure want to delete the record?</p>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-dark" (click)="closePopup()">
                            Cancel
                        </button>
                        <button type="button" class="btn btn-outline-danger" (click)="deletePerson(person.PhoneNumber); closePopup()">
                            Delete
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </tbody>
    
</table>

<form #searchForm="ngForm" class="d-flex mx-auto col-lg-4 col-md-8 col-sm-8 col-8 py-4">
    <input ngModel class="form-control me-2" name="search" type="search" placeholder="Enter name / city exactly"
        aria-label="Search">
    <button class="btn btn-outline-primary" (click)="searchPersonDetails(searchForm.value)"
        type="submit">Search</button>
    <button class="btn btn-outline-dark mx-1" (click)="refreshPage()" type="submit">Clear</button>
</form>













<!-- <app-header></app-header>

<nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
        <form #searchForm="ngForm" class="d-flex">
            <input ngModel class="form-control me-2" name="search" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success" (click)="searchWildCard(searchForm.value)" type="submit">Search</button>
        </form>

        <h2 class="d-flex">Person Details</h2>

        <button class="btn d-flex btn-sm btn-outline-primary" (click)="open(demoModal)">Add person</button>

    </div>
</nav> -->
<!-- <button class="btn d-flex btn-sm btn-outline-primary" (click)="open(demoModal)">Add person</button> -->

<!-- <ng-template #demoModal let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Add a person</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
            (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <form #personForm="ngForm" (ngSubmit)="submitPersonDetails(personForm.value)">
            <div class="form-group">
                <label for="FirstName">First Name</label>
                <input ngModel required name="FirstName"  #firstName="ngModel" class="form-control" placeholder="First Name Here" type="text">
                <span *ngIf="firstName.invalid && firstName.touched" class="validator">Please enter the field value <br></span> 
                
                <label for="LastName">Last Name</label>
                <input ngModel required name="LastName" #lastName="ngModel" class="form-control" placeholder="Last Name Here" type="text">
                <span *ngIf="lastName.invalid && lastName.touched" class="validator">Please enter the field value <br></span> 

                <label for="AddrL1">Address Line 1</label>
                <input ngModel required name="AddressLine1" #addrL1="ngModel" class="form-control" placeholder="Address Line 1 Here" type="text">
                <span *ngIf="addrL1.invalid && addrL1.touched" class="validator">Please enter the field value <br></span> 

                <label for="AddrL2">Address Line 2</label>
                <input ngModel required name="AddressLine2" #addrL2="ngModel" class="form-control" placeholder="Address Line 2 Here" type="text">
                <span *ngIf="addrL2.invalid && addrL2.touched" class="validator">Please enter the field value <br></span> 

                <label for="City">City</label>
                <input ngModel required name="City" #city="ngModel" class="form-control" placeholder="City Here" type="text">
                <span *ngIf="city.invalid && city.touched" class="validator">Please enter the field value <br></span> 

                <label for="State">State</label>
                <input ngModel required name="State" #state="ngModel" class="form-control" placeholder="State Here" type="text">
                <span *ngIf="state.invalid && state.touched" class="validator">Please enter the field value <br></span> 

                <label for="Pincode">Pincode</label>
                <input ngModel pattern="[0-9]{6}" required name="Pincode" #pincode="ngModel" class="form-control" placeholder="Pincode Here" type="text">
                <span *ngIf="pincode.invalid && pincode.touched" class="validator">Please enter the field value <br></span> 

                <label for="Phone">Phone Number</label>
                <input ngModel pattern="[0-9]{10}" required name="PhoneNumber" #phone="ngModel" class="form-control" placeholder="Phone Number Here" type="text">
                <span *ngIf="phone.invalid && phone.touched" class="validator">Please enter the field value <br></span> 
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="submitPersonDetails(personForm.value); modal.close('Save click'); ">Save</button>
    </div>
</ng-template> -->


